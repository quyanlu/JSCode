<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style>
		.img {
			width: 200px;
			height: 200px;
			background-color: gray;
		}
		.pic {
		/ / 必要的img样式
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
		<div class="img">
			<img class="pic" alt="加载中" data-src="./images/a9d3fd1f4134970a8d9e25918ec80ccfa6865dac.jpeg">
		</div>
	</div>
	<script>
		//获取所有的图片标签
		const imgs = document.getElementsByTagName('img');
		//获取可视区域的高度
		const viewHeight = window.innerHeight || document.documentElement.clientHeight;
		let num = 0;
		function lazyLoad() {
			for (let i = num; i < imgs.length; i++) {
				//用可视区域高度减去元素顶部距离可视区域顶部的高度
				let distance = viewHeight - imgs[i].getBoundingClientRect().top;
				//如果可视区域高度大于等于元素顶部距离可视区域顶部的高度，说明元素露出
				if (distance >= 0) {
					//给元素写入真实的src,展示图片
					imgs[i].src = imgs[i].getAttribute('data-src');
					//前i张图片已经加载完毕，下次从第i+1张开始检查是否露出
					num = i + 1;
				}
			}
		}
		//首次执行
		lazyLoad();
		//监听scroll事件
		window.addEventListener('scroll', lazyLoad, false);
	</script>
</body>
</html>
